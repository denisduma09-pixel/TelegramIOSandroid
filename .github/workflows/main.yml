name: üê¢ Build KotuktoperGram iOS26

on: workflow_dispatch

jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 30  # –î–æ–ª–≥–∏–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
    
    steps:
    - name: üì• Checkout code
      uses: actions/checkout@v4
      
    - name: üê¢ Build APK (Slow Internet Mode)
      run: |
        chmod +x gradlew
        
        # –†–ï–ñ–ò–ú 1: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –ë–ï–ó –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–±—ã—Å—Ç—Ä–æ)
        echo "üîÑ –ü–æ–ø—ã—Ç–∫–∞ 1: –°–±–æ—Ä–∫–∞ –ë–ï–ó –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞..."
        ./gradlew :TMessagesProj:assembleDebug \
          --no-daemon \
          --offline \
          --no-build-cache \
          --no-configuration-cache \
          -x check -x test -x lint -x verify -x ktlint -x detekt || \
        
        # –†–ï–ñ–ò–ú 2: –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å - –∫–∞—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–µ–¥–ª–µ–Ω–Ω–æ)
        echo "üåê –ü–æ–ø—ã—Ç–∫–∞ 2: –°–∫–∞—á–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
        ./gradlew :TMessagesProj:assembleDebug \
          --no-daemon \
          --no-build-cache \
          --no-configuration-cache \
          -x check -x test -x lint -x verify -x ktlint -x detekt || \
        
        # –†–ï–ñ–ò–ú 3: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
        echo "‚ö° –ü–æ–ø—ã—Ç–∫–∞ 3: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞...by kotuktoper"
        ./gradlew :TMessagesProj:assembleDebug --no-daemon --stacktrace
